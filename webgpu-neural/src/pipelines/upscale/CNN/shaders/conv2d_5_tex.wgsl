
// Layer: conv2d_5_0 - Conv2D with multiple inputs
@group(0) @binding(0) var conv2d_4_tex: texture_2d<f32>;
@group(0) @binding(1) var conv2d_5_tex: texture_storage_2d<rgba16float, write>;

fn max4(v: vec4f, val: f32) -> vec4f {
  return max(v, vec4f(val));
}

fn go_0(pos: vec2u, x_off: i32, y_off: i32) -> vec4f {
  return max4(textureLoad(conv2d_4_tex, vec2i(i32(pos.x) + x_off, i32(pos.y) + y_off), 0), 0.0);
}
fn go_1(pos: vec2u, x_off: i32, y_off: i32) -> vec4f {
  return max4(-textureLoad(conv2d_4_tex, vec2i(i32(pos.x) + x_off, i32(pos.y) + y_off), 0), 0.0);
}
@compute
@workgroup_size(8, 8)
fn computeMain(@builtin(global_invocation_id) pixel: vec3u) {
  let dim_out: vec2u = textureDimensions(conv2d_5_tex);
  if (pixel.x >= dim_out.x || pixel.y >= dim_out.y) {
    return;
  }
  var result: vec4f = vec4f(0.0);

  // Output channels 0 to 3

  result += mat4x4<f32>(
    -0.01827468, -0.02113725, -0.09815205, -0.09329131,
    0.03185949, -0.04098953, 0.03741746, 0.07024235,
    -0.04346185, 0.08992134, -0.12849449, -0.03327332,
    0.14701925, 0.21571015, 0.01832616, 0.05125002
  ) * go_0(pixel.xy, -1, -1);

  result += mat4x4<f32>(
    0.11381681, -0.06410648, -0.03669353, 0.05047328,
    -0.05222148, -0.03637641, -0.10560717, 0.11443699,
    -0.08845818, -0.06153101, -0.03215021, 0.03041821,
    0.08509240, -0.05544224, 0.44920671, 0.12823337
  ) * go_0(pixel.xy, -1, 0);

  result += mat4x4<f32>(
    0.04147988, -0.15837933, 0.16870695, -0.01606756,
    0.00705257, -0.13433141, 0.12976013, -0.00951244,
    -0.07074180, 0.02790688, 0.09496873, -0.00812853,
    0.08963756, 0.09440965, -0.27735627, 0.28402567
  ) * go_0(pixel.xy, -1, 1);

  result += mat4x4<f32>(
    0.24663877, 0.04543300, 0.13388808, 0.19685061,
    0.13204762, -0.02881589, 0.62408918, 0.04780773,
    -0.16169336, 0.32621258, -0.41491318, -0.20446980,
    0.10885470, 0.02656484, 0.08616355, -0.05043926
  ) * go_0(pixel.xy, 0, -1);

  result += mat4x4<f32>(
    0.47750297, -0.13249487, -0.26769570, -0.08290040,
    -0.37092572, 0.08872426, 0.46534953, -0.02446555,
    -0.19282387, 0.62636375, -0.85519600, 0.20448251,
    0.44138166, 0.02893410, -0.08812913, 0.34334886
  ) * go_0(pixel.xy, 0, 0);

  result += mat4x4<f32>(
    0.04188558, 0.00411882, 0.05972126, 0.06490722,
    0.08516049, 0.19626021, -0.10186579, 0.20542577,
    -0.05296064, 0.12372827, -0.28202963, -0.08222406,
    0.06755787, -0.02767734, 0.01232186, 0.26604667
  ) * go_0(pixel.xy, 0, 1);

  result += mat4x4<f32>(
    -0.03353198, -0.21495779, 0.22326231, 0.05888616,
    -0.27285814, -0.41149384, 0.37563702, -0.18479189,
    -0.06273751, -0.13736090, 0.04769956, 0.03325945,
    -0.03926477, -0.14649147, -0.03553645, 0.00001530
  ) * go_0(pixel.xy, 1, -1);

  result += mat4x4<f32>(
    0.03950788, -0.16869701, 0.41056508, 0.00994772,
    0.39605314, -0.14819351, 0.41948208, 1.26656353,
    0.08572908, 0.06058620, 0.06328331, -0.10136101,
    -0.14614706, -0.10802733, 0.22234119, -0.10250669
  ) * go_0(pixel.xy, 1, 0);

  result += mat4x4<f32>(
    0.01948530, 0.03599913, -0.01548191, 0.35570899,
    -0.01312445, -0.09096897, -0.05671374, 0.19070217,
    -0.01726206, 0.04169397, -0.10009196, 0.05603674,
    0.07928279, 0.10880364, -0.13774891, 0.22922432
  ) * go_0(pixel.xy, 1, 1);

  result += mat4x4<f32>(
    0.05463113, 0.14967495, -0.14225323, 0.02639143,
    -0.06547888, 0.05295530, -0.04009926, 0.02204131,
    0.04737956, 0.15016913, 0.00311445, -0.11071648,
    -0.31973413, -0.51536781, 0.23337245, 0.01291359
  ) * go_0(pixel.xy, -1, -1);

  result += mat4x4<f32>(
    0.12912449, 0.26875746, 0.07420847, 0.21631157,
    0.00964620, 0.00403794, 0.06485862, -0.06645640,
    0.12189259, 0.28030488, -0.22122222, 0.02754866,
    -0.20246971, -0.20161173, -0.09147098, 0.04831191
  ) * go_0(pixel.xy, -1, 0);

  result += mat4x4<f32>(
    0.16984984, 0.04981623, -0.03469642, -0.06683291,
    -0.04009571, -0.00642199, -0.03825014, -0.05039419,
    0.03550734, 0.12622243, -0.15548605, 0.02110888,
    -0.33513290, 0.07386689, 0.01930059, 0.04573512
  ) * go_0(pixel.xy, -1, 1);

  result += mat4x4<f32>(
    0.00619435, -0.00567083, -0.05764349, -0.05387144,
    -0.13299251, -0.41832009, 0.00535877, 0.01187566,
    0.29522821, 0.07157176, 0.46966335, 0.25660187,
    -0.22627532, 0.03079517, -0.25918064, -0.05138761
  ) * go_0(pixel.xy, 0, -1);

  result += mat4x4<f32>(
    0.07811385, -0.32541323, 0.22720706, 0.59219283,
    0.13241650, -0.29101786, 0.19399507, -0.17503147,
    0.04252553, -0.21077971, 0.34550235, -0.40717733,
    -0.42605725, 0.37053677, 0.23645423, 0.12941444
  ) * go_0(pixel.xy, 0, 0);

  result += mat4x4<f32>(
    0.40614423, -0.20237345, -0.02637059, -0.14856137,
    -0.08851771, -0.06623918, 0.13764597, -0.00926357,
    0.03100146, -0.04442323, 0.08705773, 0.01169974,
    -0.15504573, 0.08273344, -0.25030753, -0.16066195
  ) * go_0(pixel.xy, 0, 1);

  result += mat4x4<f32>(
    0.28989330, 0.09637727, -0.11371171, 0.05920220,
    0.13192768, 0.18021473, -0.06474793, 0.05932124,
    0.07231729, 0.02253902, -0.11999246, -0.12410467,
    -0.15247370, 0.05279374, -0.03927318, -0.05235218
  ) * go_0(pixel.xy, 1, -1);

  result += mat4x4<f32>(
    0.34014305, 0.17778191, -0.16256969, -0.15006948,
    -0.20868626, -0.09552334, -0.08758334, -0.07651857,
    -0.10554635, 0.06469033, -0.30180562, -0.23953149,
    -0.05764589, -0.00160848, -0.13848200, 0.12893638
  ) * go_0(pixel.xy, 1, 0);

  result += mat4x4<f32>(
    0.11902922, 0.02149950, -0.00302802, 0.00848062,
    -0.06810631, -0.01806110, 0.21507774, -0.07335868,
    -0.00692520, 0.00417815, 0.01807662, -0.00080911,
    -0.18352054, -0.04577732, 0.05818661, -0.13421750
  ) * go_0(pixel.xy, 1, 1);

  result += mat4x4<f32>(
    -0.01827468, -0.02113725, -0.09815205, -0.09329131,
    0.03185949, -0.04098953, 0.03741746, 0.07024235,
    -0.04346185, 0.08992134, -0.12849449, -0.03327332,
    0.14701925, 0.21571015, 0.01832616, 0.05125002
  ) * go_1(pixel.xy, -1, -1);

  result += mat4x4<f32>(
    0.11381681, -0.06410648, -0.03669353, 0.05047328,
    -0.05222148, -0.03637641, -0.10560717, 0.11443699,
    -0.08845818, -0.06153101, -0.03215021, 0.03041821,
    0.08509240, -0.05544224, 0.44920671, 0.12823337
  ) * go_1(pixel.xy, -1, 0);

  result += mat4x4<f32>(
    0.04147988, -0.15837933, 0.16870695, -0.01606756,
    0.00705257, -0.13433141, 0.12976013, -0.00951244,
    -0.07074180, 0.02790688, 0.09496873, -0.00812853,
    0.08963756, 0.09440965, -0.27735627, 0.28402567
  ) * go_1(pixel.xy, -1, 1);

  result += mat4x4<f32>(
    0.24663877, 0.04543300, 0.13388808, 0.19685061,
    0.13204762, -0.02881589, 0.62408918, 0.04780773,
    -0.16169336, 0.32621258, -0.41491318, -0.20446980,
    0.10885470, 0.02656484, 0.08616355, -0.05043926
  ) * go_1(pixel.xy, 0, -1);

  result += mat4x4<f32>(
    0.47750297, -0.13249487, -0.26769570, -0.08290040,
    -0.37092572, 0.08872426, 0.46534953, -0.02446555,
    -0.19282387, 0.62636375, -0.85519600, 0.20448251,
    0.44138166, 0.02893410, -0.08812913, 0.34334886
  ) * go_1(pixel.xy, 0, 0);

  result += mat4x4<f32>(
    0.04188558, 0.00411882, 0.05972126, 0.06490722,
    0.08516049, 0.19626021, -0.10186579, 0.20542577,
    -0.05296064, 0.12372827, -0.28202963, -0.08222406,
    0.06755787, -0.02767734, 0.01232186, 0.26604667
  ) * go_1(pixel.xy, 0, 1);

  result += mat4x4<f32>(
    -0.03353198, -0.21495779, 0.22326231, 0.05888616,
    -0.27285814, -0.41149384, 0.37563702, -0.18479189,
    -0.06273751, -0.13736090, 0.04769956, 0.03325945,
    -0.03926477, -0.14649147, -0.03553645, 0.00001530
  ) * go_1(pixel.xy, 1, -1);

  result += mat4x4<f32>(
    0.03950788, -0.16869701, 0.41056508, 0.00994772,
    0.39605314, -0.14819351, 0.41948208, 1.26656353,
    0.08572908, 0.06058620, 0.06328331, -0.10136101,
    -0.14614706, -0.10802733, 0.22234119, -0.10250669
  ) * go_1(pixel.xy, 1, 0);

  result += mat4x4<f32>(
    0.01948530, 0.03599913, -0.01548191, 0.35570899,
    -0.01312445, -0.09096897, -0.05671374, 0.19070217,
    -0.01726206, 0.04169397, -0.10009196, 0.05603674,
    0.07928279, 0.10880364, -0.13774891, 0.22922432
  ) * go_1(pixel.xy, 1, 1);

  result += mat4x4<f32>(
    0.05463113, 0.14967495, -0.14225323, 0.02639143,
    -0.06547888, 0.05295530, -0.04009926, 0.02204131,
    0.04737956, 0.15016913, 0.00311445, -0.11071648,
    -0.31973413, -0.51536781, 0.23337245, 0.01291359
  ) * go_1(pixel.xy, -1, -1);

  result += mat4x4<f32>(
    0.12912449, 0.26875746, 0.07420847, 0.21631157,
    0.00964620, 0.00403794, 0.06485862, -0.06645640,
    0.12189259, 0.28030488, -0.22122222, 0.02754866,
    -0.20246971, -0.20161173, -0.09147098, 0.04831191
  ) * go_1(pixel.xy, -1, 0);

  result += mat4x4<f32>(
    0.16984984, 0.04981623, -0.03469642, -0.06683291,
    -0.04009571, -0.00642199, -0.03825014, -0.05039419,
    0.03550734, 0.12622243, -0.15548605, 0.02110888,
    -0.33513290, 0.07386689, 0.01930059, 0.04573512
  ) * go_1(pixel.xy, -1, 1);

  result += mat4x4<f32>(
    0.00619435, -0.00567083, -0.05764349, -0.05387144,
    -0.13299251, -0.41832009, 0.00535877, 0.01187566,
    0.29522821, 0.07157176, 0.46966335, 0.25660187,
    -0.22627532, 0.03079517, -0.25918064, -0.05138761
  ) * go_1(pixel.xy, 0, -1);

  result += mat4x4<f32>(
    0.07811385, -0.32541323, 0.22720706, 0.59219283,
    0.13241650, -0.29101786, 0.19399507, -0.17503147,
    0.04252553, -0.21077971, 0.34550235, -0.40717733,
    -0.42605725, 0.37053677, 0.23645423, 0.12941444
  ) * go_1(pixel.xy, 0, 0);

  result += mat4x4<f32>(
    0.40614423, -0.20237345, -0.02637059, -0.14856137,
    -0.08851771, -0.06623918, 0.13764597, -0.00926357,
    0.03100146, -0.04442323, 0.08705773, 0.01169974,
    -0.15504573, 0.08273344, -0.25030753, -0.16066195
  ) * go_1(pixel.xy, 0, 1);

  result += mat4x4<f32>(
    0.28989330, 0.09637727, -0.11371171, 0.05920220,
    0.13192768, 0.18021473, -0.06474793, 0.05932124,
    0.07231729, 0.02253902, -0.11999246, -0.12410467,
    -0.15247370, 0.05279374, -0.03927318, -0.05235218
  ) * go_1(pixel.xy, 1, -1);

  result += mat4x4<f32>(
    0.34014305, 0.17778191, -0.16256969, -0.15006948,
    -0.20868626, -0.09552334, -0.08758334, -0.07651857,
    -0.10554635, 0.06469033, -0.30180562, -0.23953149,
    -0.05764589, -0.00160848, -0.13848200, 0.12893638
  ) * go_1(pixel.xy, 1, 0);

  result += mat4x4<f32>(
    0.11902922, 0.02149950, -0.00302802, 0.00848062,
    -0.06810631, -0.01806110, 0.21507774, -0.07335868,
    -0.00692520, 0.00417815, 0.01807662, -0.00080911,
    -0.18352054, -0.04577732, 0.05818661, -0.13421750
  ) * go_1(pixel.xy, 1, 1);

  result += vec4f(-0.03272125, 0.10765623, -0.06124638, 0.08854181);
  textureStore(conv2d_5_tex, pixel.xy, result);
}
