
// Layer: conv2d_6_0 - Conv2D with multiple inputs
@group(0) @binding(0) var conv2d_5_tex: texture_2d<f32>;
@group(0) @binding(1) var conv2d_6_tex: texture_storage_2d<rgba16float, write>;

fn max4(v: vec4f, val: f32) -> vec4f {
  return max(v, vec4f(val));
}

fn go_0(pos: vec2u, x_off: i32, y_off: i32) -> vec4f {
  return max4(textureLoad(conv2d_5_tex, vec2i(i32(pos.x) + x_off, i32(pos.y) + y_off), 0), 0.0);
}
fn go_1(pos: vec2u, x_off: i32, y_off: i32) -> vec4f {
  return max4(-textureLoad(conv2d_5_tex, vec2i(i32(pos.x) + x_off, i32(pos.y) + y_off), 0), 0.0);
}
@compute
@workgroup_size(8, 8)
fn computeMain(@builtin(global_invocation_id) pixel: vec3u) {
  let dim_out: vec2u = textureDimensions(conv2d_6_tex);
  if (pixel.x >= dim_out.x || pixel.y >= dim_out.y) {
    return;
  }
  var result: vec4f = vec4f(0.0);

  // Output channels 0 to 3

  result += mat4x4<f32>(
    0.09558645, -0.02346257, -0.14197458, -0.44869941,
    0.03237428, -0.06352610, 0.06454333, -0.03434542,
    0.15981129, -0.02652366, 0.04126068, -0.02741006,
    -0.16228485, 0.07063432, 0.05399276, 0.23644258
  ) * go_0(pixel.xy, -1, -1);

  result += mat4x4<f32>(
    0.39780757, -0.33334875, 0.20522998, 0.00828026,
    0.18991648, -0.07408457, -0.08885497, -0.29038221,
    -0.15463208, 0.07100830, -0.00870672, 0.18968678,
    -0.11085201, 0.05126503, 0.02468443, 0.04966895
  ) * go_0(pixel.xy, -1, 0);

  result += mat4x4<f32>(
    -0.38439673, 0.20326261, -0.18633115, 0.13348919,
    0.08515152, -0.06244592, -0.01493390, -0.04533106,
    -0.13123910, 0.07932232, -0.04521981, 0.01521723,
    -0.00026214, 0.01747669, -0.00325227, -0.03234242
  ) * go_0(pixel.xy, -1, 1);

  result += mat4x4<f32>(
    -0.05205136, 0.40633646, -0.08526241, 0.58704102,
    -0.03932062, -0.05641531, -0.00087536, 0.04967410,
    -0.09477314, -0.07935266, 0.16409868, 0.07789569,
    -0.22695719, -0.27200827, 0.07982069, -0.12195218
  ) * go_0(pixel.xy, 0, -1);

  result += mat4x4<f32>(
    -0.26567081, 0.24223085, -0.12852766, -0.21818008,
    0.10477040, 0.68241572, -0.04673307, 0.70939755,
    -0.41354904, -0.72031552, -0.23593824, 0.24887046,
    -0.06374787, 0.08291672, 0.08354574, -0.09801731
  ) * go_0(pixel.xy, 0, 0);

  result += mat4x4<f32>(
    0.34619272, -0.15563314, -0.07138786, -0.13966127,
    0.22046493, -0.06666742, 0.12528564, 0.05422779,
    0.33254892, -0.25654376, 0.32151914, 0.16213593,
    -0.04295339, 0.06073818, 0.03784557, 0.08053616
  ) * go_0(pixel.xy, 0, 1);

  result += mat4x4<f32>(
    0.06308511, -0.29970145, 0.07998965, -0.25399649,
    -0.09780665, -0.08297412, 0.09853203, 0.08785954,
    -0.02641951, 0.01643989, -0.01251652, 0.03598808,
    -0.03383420, 0.06700352, -0.00690753, 0.06669134
  ) * go_0(pixel.xy, 1, -1);

  result += mat4x4<f32>(
    0.01338223, 0.07072554, -0.30706704, -0.01168076,
    -0.23598635, -0.20349714, -0.44061264, -0.32938254,
    -0.03598205, 0.00114676, 0.12780790, 0.09243786,
    -0.02343942, 0.04299786, 0.03315808, 0.05221102
  ) * go_0(pixel.xy, 1, 0);

  result += mat4x4<f32>(
    0.06659440, 0.07078813, 0.19873360, 0.10818287,
    0.44572887, 0.12711647, 0.41255876, 0.17742743,
    0.09779373, -0.07668532, 0.02591692, -0.00101562,
    -0.02603019, -0.04271131, -0.01314571, -0.04027866
  ) * go_0(pixel.xy, 1, 1);

  result += mat4x4<f32>(
    0.09163264, -0.01960140, 0.02418797, -0.09499833,
    -0.02883478, 0.04062359, -0.11231656, -0.06266069,
    -0.08053864, 0.08628985, -0.06413230, 0.00180023,
    0.14777559, -0.13461900, -0.44629118, -0.91729671
  ) * go_0(pixel.xy, -1, -1);

  result += mat4x4<f32>(
    0.01786226, 0.06623018, 0.00582471, 0.26376164,
    -0.02675780, -0.01858572, 0.19331042, 0.21798186,
    0.08608472, -0.05894724, 0.09827673, 0.14247374,
    -0.27913797, 0.07110839, -0.03916545, 0.23457418
  ) * go_0(pixel.xy, -1, 0);

  result += mat4x4<f32>(
    -0.11633371, 0.10829952, 0.04606959, 0.06816459,
    -0.03669585, 0.00253780, -0.11545742, -0.14114772,
    -0.26671252, 0.08668049, -0.13913038, -0.02618816,
    0.04193287, 0.05405593, 0.08269335, 0.04529284
  ) * go_0(pixel.xy, -1, 1);

  result += mat4x4<f32>(
    0.02959903, -0.10631381, -0.04404470, 0.00536066,
    -0.07359139, 0.11311807, -0.04889284, 0.05935475,
    -0.03506712, -0.04132670, -0.05012838, -0.11025487,
    0.09667892, 0.73243588, -0.86191452, 0.14109911
  ) * go_0(pixel.xy, 0, -1);

  result += mat4x4<f32>(
    -0.09181965, 0.27728027, 0.31672147, -0.21138743,
    -0.18822624, -0.44839960, 0.56556034, -0.26185808,
    0.48730934, 0.68583763, -0.21623755, -0.53540081,
    -0.25085652, 0.13206767, -0.11435218, -0.66673487
  ) * go_0(pixel.xy, 0, 0);

  result += mat4x4<f32>(
    0.03909115, -0.36677721, -0.13329560, -0.26852489,
    -0.48154831, 0.00300594, -0.33645591, -0.10292184,
    -0.19987227, 0.02143331, -0.25502893, -0.11019662,
    -0.53840637, 0.15690815, -0.25926763, 0.00982239
  ) * go_0(pixel.xy, 0, 1);

  result += mat4x4<f32>(
    -0.12446394, -0.01967693, 0.10548008, 0.06732415,
    0.07463735, 0.03822564, -0.04799360, -0.02631223,
    0.06643010, 0.08914586, -0.12771074, -0.02871326,
    -0.10087685, -0.33370292, 0.22579825, -0.13078718
  ) * go_0(pixel.xy, 1, -1);

  result += mat4x4<f32>(
    -0.05372438, -0.15742368, -0.28210902, -0.18915109,
    0.20195012, 0.27091798, -0.11004756, 0.13946001,
    0.18957099, -0.12244722, 0.16117601, -0.16593818,
    0.30767924, 0.30646056, 0.42903391, 0.07776271
  ) * go_0(pixel.xy, 1, 0);

  result += mat4x4<f32>(
    0.07146814, 0.27555966, 0.21437247, 0.30512232,
    -0.06656796, 0.19495487, 0.12552558, 0.16963474,
    -0.11610609, -0.08493389, -0.22601505, -0.14716491,
    -0.24794896, -0.04896146, -0.29565150, -0.08087151
  ) * go_0(pixel.xy, 1, 1);

  result += mat4x4<f32>(
    0.09558645, -0.02346257, -0.14197458, -0.44869941,
    0.03237428, -0.06352610, 0.06454333, -0.03434542,
    0.15981129, -0.02652366, 0.04126068, -0.02741006,
    -0.16228485, 0.07063432, 0.05399276, 0.23644258
  ) * go_1(pixel.xy, -1, -1);

  result += mat4x4<f32>(
    0.39780757, -0.33334875, 0.20522998, 0.00828026,
    0.18991648, -0.07408457, -0.08885497, -0.29038221,
    -0.15463208, 0.07100830, -0.00870672, 0.18968678,
    -0.11085201, 0.05126503, 0.02468443, 0.04966895
  ) * go_1(pixel.xy, -1, 0);

  result += mat4x4<f32>(
    -0.38439673, 0.20326261, -0.18633115, 0.13348919,
    0.08515152, -0.06244592, -0.01493390, -0.04533106,
    -0.13123910, 0.07932232, -0.04521981, 0.01521723,
    -0.00026214, 0.01747669, -0.00325227, -0.03234242
  ) * go_1(pixel.xy, -1, 1);

  result += mat4x4<f32>(
    -0.05205136, 0.40633646, -0.08526241, 0.58704102,
    -0.03932062, -0.05641531, -0.00087536, 0.04967410,
    -0.09477314, -0.07935266, 0.16409868, 0.07789569,
    -0.22695719, -0.27200827, 0.07982069, -0.12195218
  ) * go_1(pixel.xy, 0, -1);

  result += mat4x4<f32>(
    -0.26567081, 0.24223085, -0.12852766, -0.21818008,
    0.10477040, 0.68241572, -0.04673307, 0.70939755,
    -0.41354904, -0.72031552, -0.23593824, 0.24887046,
    -0.06374787, 0.08291672, 0.08354574, -0.09801731
  ) * go_1(pixel.xy, 0, 0);

  result += mat4x4<f32>(
    0.34619272, -0.15563314, -0.07138786, -0.13966127,
    0.22046493, -0.06666742, 0.12528564, 0.05422779,
    0.33254892, -0.25654376, 0.32151914, 0.16213593,
    -0.04295339, 0.06073818, 0.03784557, 0.08053616
  ) * go_1(pixel.xy, 0, 1);

  result += mat4x4<f32>(
    0.06308511, -0.29970145, 0.07998965, -0.25399649,
    -0.09780665, -0.08297412, 0.09853203, 0.08785954,
    -0.02641951, 0.01643989, -0.01251652, 0.03598808,
    -0.03383420, 0.06700352, -0.00690753, 0.06669134
  ) * go_1(pixel.xy, 1, -1);

  result += mat4x4<f32>(
    0.01338223, 0.07072554, -0.30706704, -0.01168076,
    -0.23598635, -0.20349714, -0.44061264, -0.32938254,
    -0.03598205, 0.00114676, 0.12780790, 0.09243786,
    -0.02343942, 0.04299786, 0.03315808, 0.05221102
  ) * go_1(pixel.xy, 1, 0);

  result += mat4x4<f32>(
    0.06659440, 0.07078813, 0.19873360, 0.10818287,
    0.44572887, 0.12711647, 0.41255876, 0.17742743,
    0.09779373, -0.07668532, 0.02591692, -0.00101562,
    -0.02603019, -0.04271131, -0.01314571, -0.04027866
  ) * go_1(pixel.xy, 1, 1);

  result += mat4x4<f32>(
    0.09163264, -0.01960140, 0.02418797, -0.09499833,
    -0.02883478, 0.04062359, -0.11231656, -0.06266069,
    -0.08053864, 0.08628985, -0.06413230, 0.00180023,
    0.14777559, -0.13461900, -0.44629118, -0.91729671
  ) * go_1(pixel.xy, -1, -1);

  result += mat4x4<f32>(
    0.01786226, 0.06623018, 0.00582471, 0.26376164,
    -0.02675780, -0.01858572, 0.19331042, 0.21798186,
    0.08608472, -0.05894724, 0.09827673, 0.14247374,
    -0.27913797, 0.07110839, -0.03916545, 0.23457418
  ) * go_1(pixel.xy, -1, 0);

  result += mat4x4<f32>(
    -0.11633371, 0.10829952, 0.04606959, 0.06816459,
    -0.03669585, 0.00253780, -0.11545742, -0.14114772,
    -0.26671252, 0.08668049, -0.13913038, -0.02618816,
    0.04193287, 0.05405593, 0.08269335, 0.04529284
  ) * go_1(pixel.xy, -1, 1);

  result += mat4x4<f32>(
    0.02959903, -0.10631381, -0.04404470, 0.00536066,
    -0.07359139, 0.11311807, -0.04889284, 0.05935475,
    -0.03506712, -0.04132670, -0.05012838, -0.11025487,
    0.09667892, 0.73243588, -0.86191452, 0.14109911
  ) * go_1(pixel.xy, 0, -1);

  result += mat4x4<f32>(
    -0.09181965, 0.27728027, 0.31672147, -0.21138743,
    -0.18822624, -0.44839960, 0.56556034, -0.26185808,
    0.48730934, 0.68583763, -0.21623755, -0.53540081,
    -0.25085652, 0.13206767, -0.11435218, -0.66673487
  ) * go_1(pixel.xy, 0, 0);

  result += mat4x4<f32>(
    0.03909115, -0.36677721, -0.13329560, -0.26852489,
    -0.48154831, 0.00300594, -0.33645591, -0.10292184,
    -0.19987227, 0.02143331, -0.25502893, -0.11019662,
    -0.53840637, 0.15690815, -0.25926763, 0.00982239
  ) * go_1(pixel.xy, 0, 1);

  result += mat4x4<f32>(
    -0.12446394, -0.01967693, 0.10548008, 0.06732415,
    0.07463735, 0.03822564, -0.04799360, -0.02631223,
    0.06643010, 0.08914586, -0.12771074, -0.02871326,
    -0.10087685, -0.33370292, 0.22579825, -0.13078718
  ) * go_1(pixel.xy, 1, -1);

  result += mat4x4<f32>(
    -0.05372438, -0.15742368, -0.28210902, -0.18915109,
    0.20195012, 0.27091798, -0.11004756, 0.13946001,
    0.18957099, -0.12244722, 0.16117601, -0.16593818,
    0.30767924, 0.30646056, 0.42903391, 0.07776271
  ) * go_1(pixel.xy, 1, 0);

  result += mat4x4<f32>(
    0.07146814, 0.27555966, 0.21437247, 0.30512232,
    -0.06656796, 0.19495487, 0.12552558, 0.16963474,
    -0.11610609, -0.08493389, -0.22601505, -0.14716491,
    -0.24794896, -0.04896146, -0.29565150, -0.08087151
  ) * go_1(pixel.xy, 1, 1);

  result += vec4f(-0.07389621, 0.10199541, 0.04066679, -0.13754050);
  textureStore(conv2d_6_tex, pixel.xy, result);
}
